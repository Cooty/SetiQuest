{"version":3,"sources":["app.min.js"],"names":["SETI","AnimDemo","init","initDOMElements","$demoContainer","length","initBindings","$window","Performance","getCachedDOM","$","showAnimations","scrollY","scrollTop","scrolledIntoView","offset","top","height","hasClass","cssClass","addClass","on","scroll","window","debounce","Main","MobileNav","StickyHeader","instance","getInstance","$logo","$hamburger","$coverLayer","$html","click","toggle","e","preventDefault","removeClass","blur","initCacheDOM","saveDeviceProperties","ReferenceError","$cachedDOM","$body","document","body","$header","resizeWindow","clearTimeout","windowResize","setTimeout","w","d","documentElement","g","getElementsByTagName","W","innerWidth","clientWidth","H","innerHeight","clientHeight","deviceProperties","width","getDeviceProperties","exports","data","initialHeight"],"mappings":"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","file":"app.min.js","sourcesContent":["/**\r\n * Operates the animation on the bottom of the What is SETI page - only adds a class on scroll\r\n *\r\n * @namespace SETI\r\n * @name SETI.AnimDemo\r\n *\r\n */\r\nSETI.AnimDemo = (/** @lends SETI.AnimDemo */function() {\r\n\r\n    var $window,\r\n        $demoContainer,\r\n        cssClass = 'show';\r\n\r\n    /**\r\n     * Initialize the module\r\n     *\r\n     * @public\r\n     * @returns {void}\r\n     */\r\n    function init() {\r\n        initDOMElements();\r\n        if($demoContainer.length) {\r\n            initBindings();\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Get DOM elements for the module\r\n     *\r\n     * @private\r\n     * @returns {void}\r\n     */\r\n    function initDOMElements() {\r\n        $window = SETI.Performance.getCachedDOM().$window;\r\n        $demoContainer = $('[data-map-demo-anim]');\r\n    }\r\n\r\n    function showAnimations() {\r\n        var scrollY = $window.scrollTop(),\r\n            scrolledIntoView = $demoContainer.offset().top,\r\n            height = $demoContainer.height();\r\n\r\n        if(scrollY + height * 2 > scrolledIntoView && !$demoContainer.hasClass(cssClass)) {\r\n            $demoContainer.addClass(cssClass);\r\n        }\r\n\r\n\r\n    }\r\n\r\n    /**\r\n     * Init event bindings for the module\r\n     * Everything is bound to the BODY and events are propagated, because selects can be created/modified dynamically\r\n     *\r\n     * @private\r\n     * @returns {void}\r\n     */\r\n    function initBindings() {\r\n        $window.on({\r\n            scroll: window.debounce(showAnimations, 10)\r\n        });\r\n    }\r\n\r\n    return {\r\n        init: init\r\n    };\r\n\r\n}());\r\n/**\r\n * Main application class\r\n *\r\n * @namespace SETI\r\n * @name SETI.Main\r\n * @returns {Object}\r\n */\r\nSETI.Main = (/** @lends SETI.Main */function () {\r\n\r\n\tvar instance;\r\n\r\n\t/**\r\n\t * Initialize application and needed subclasses\r\n\t *\r\n\t * @public\r\n\t * @returns {void}\r\n\t */\r\n\tfunction init() {\r\n        SETI.Performance.init();\r\n        SETI.MobileNav.init();\r\n        SETI.AnimDemo.init();\r\n        SETI.StickyHeader.init();\r\n\t}\r\n\r\n\treturn {\r\n\r\n\t\t/**\r\n\t\t * Get singleton SETI.Main instance\r\n\t\t *\r\n\t\t * @public\r\n\t\t * @memberof SETI.Main\r\n\t\t * @returns {SETI.Main}\r\n\t\t */\r\n\t\tgetInstance: function () {\r\n\t\t\tif (!instance) {\r\n\t\t\t\tinstance = init();\r\n\t\t\t}\r\n\r\n\t\t\treturn instance;\r\n\t\t}\r\n\t};\r\n\r\n}());\r\n/**\r\n * Operates the navigation in 'mobile' mode, when the main menu is hidden behind a hamburger\r\n *\r\n * @namespace SETI\r\n * @name SETI.MobileNav\r\n *\r\n */\r\nSETI.MobileNav = (/** @lends SETI.MobileNav */function() {\r\n\r\n\tvar $html,\r\n        $logo,\r\n        $hamburger,\r\n\t\t$coverLayer,\r\n\t\tcssClass = 'mobile-nav-opened';\r\n\r\n\t/**\r\n\t * Initialize the module\r\n\t *\r\n\t * @public\r\n\t * @returns {void}\r\n\t */\r\n\tfunction init() {\r\n\t\tinitDOMElements();\r\n        if($logo.length && $hamburger.length && $coverLayer.length) {\r\n            initBindings();\r\n        }\r\n\t}\r\n\r\n\t/**\r\n\t * Get DOM elements for the module\r\n\t *\r\n\t * @private\r\n\t * @returns {void}\r\n\t */\r\n\tfunction initDOMElements() {\r\n\t\t$html = SETI.Performance.getCachedDOM().$html;\r\n        $logo = $('#js-logo');\r\n        $hamburger = $('#js-hamburger');\r\n\t\t$coverLayer = $('#js-mobile-nav-cover');\r\n\t}\r\n\r\n\t/**\r\n\t * Init event bindings for the module\r\n\t * Everything is bound to the BODY and events are propagated, because selects can be created/modified dynamically\r\n\t *\r\n\t * @private\r\n\t * @returns {void}\r\n\t */\r\n\tfunction initBindings() {\r\n        $hamburger.on({\r\n            click: toggle\r\n        });\r\n\r\n        $logo.on({\r\n            click: function(e) {\r\n                if($html.hasClass(cssClass)) {\r\n                    e.preventDefault();\r\n                    $html.removeClass(cssClass);\r\n\t\t\t\t\t$logo.blur();\r\n                }\r\n            }\r\n        });\r\n\r\n\t\t$coverLayer.on({\r\n\t\t\tclick: function() {\r\n\t\t\t\tif($html.hasClass(cssClass)) {\r\n                    $html.removeClass(cssClass);\r\n                }\t\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n    /**\r\n\t * Toggle the class on the root element that changes the UI state\r\n\t *\r\n\t * @private\r\n\t * @returns {void}\r\n\t */\r\n    function toggle() {\r\n        if(!$html.hasClass(cssClass)) {\r\n            $html.addClass(cssClass);\r\n        } else {\r\n            $html.removeClass(cssClass);\r\n        }\r\n    }\r\n\r\n\treturn {\r\n\t\tinit: init\r\n\t};\r\n\r\n}());\r\n/**\r\n * Performance increase module (cache, device optimizations)\r\n *\r\n * @namespace SETI\r\n * @name SETI.Performance\r\n */\r\nSETI.Performance = (/** @lends SETI.Performance */function () {\r\n\r\n\tvar exports,\r\n\t\t$cachedDOM,\r\n\t\twindowResize,\r\n\t\tdeviceProperties;\r\n\r\n\t/**\r\n\t * Init performance helpers\r\n\t *\r\n\t */\r\n\tfunction init() {\r\n\t\ttry {\r\n\t\t\tinitCacheDOM();\r\n\t\t\tinitBindings();\r\n\t\t\tsaveDeviceProperties();\r\n\t\t} catch (e) {\r\n\t\t\tthrow new ReferenceError('SETI.Performance cannot be initialized!');\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * Cache DOM elements\r\n\t *\r\n\t * @public\r\n\t */\r\n\tfunction initCacheDOM() {\r\n\r\n\t\t$cachedDOM = {\r\n\t\t\twindow: window,\r\n\t\t\t$window: $(window),\r\n\t\t\t$body: $(document.body),\r\n\t\t\t$html: $('html'),\r\n\t\t\t$header: $('#js-header')\r\n\t\t};\r\n\r\n\t}\r\n\r\n\tfunction initBindings() {\r\n\t\t$cachedDOM.$window.on('resize', resizeWindow);\r\n\t}\r\n\r\n\t/**\r\n\t * Window resize hook\r\n\t */\r\n\tfunction resizeWindow() {\r\n\t\tclearTimeout(windowResize);\r\n\r\n\t\twindowResize = setTimeout(function () {\r\n\t\t\tsaveDeviceProperties();\r\n\t\t}, 200);\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Save device properties to an object\r\n\t */\r\n\tfunction saveDeviceProperties() {\r\n\t\tvar w = window,\r\n\t\t\td = document,\r\n\t\t\te = d.documentElement,\r\n\t\t\tg = d.getElementsByTagName('body')[0],\r\n\t\t\tW = w.innerWidth || e.clientWidth || g.clientWidth,\r\n\t\t\tH = w.innerHeight || e.clientHeight || g.clientHeight;\r\n\r\n\t\tdeviceProperties = {\r\n\t\t\twindow: {\r\n\t\t\t\twidth: W,\r\n\t\t\t\theight: H\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Return cached DOM elements\r\n\t *\r\n\t * @returns {Object} $cachedDOM - Object containing all cached DOM elements\r\n\t * @public\r\n\t */\r\n\tfunction getCachedDOM() {\r\n\t\treturn $cachedDOM;\r\n\t}\r\n\r\n\t/**\r\n\t * Return saved device properties\r\n\t *\r\n\t * @returns {Object} deviceProperties - width, height as Number\r\n\t * @public\r\n\t */\r\n\tfunction getDeviceProperties() {\r\n\t\treturn deviceProperties;\r\n\t}\r\n\r\n\texports = {\r\n\t\tinit: init,\r\n\t\tinitCacheDOM: initCacheDOM,\r\n\t\tgetCachedDOM: getCachedDOM,\r\n\t\tgetDeviceProperties: getDeviceProperties\r\n\t};\r\n\r\n\treturn exports;\r\n\r\n}());\r\n\r\n/**\r\n * Operates the height change of the header\r\n *\r\n * @namespace SETI\r\n * @name SETI.StickyHeader\r\n *\r\n */\r\nSETI.StickyHeader = (/** @lends SETI.StickyHeader */function() {\r\n\r\n    var $window,\r\n        $header,\r\n        initialHeight,\r\n        cssClass = 'header--scrolled';\r\n\r\n    /**\r\n     * Initialize the module\r\n     *\r\n     * @public\r\n     * @returns {void}\r\n     */\r\n    function init() {\r\n        initDOMElements();\r\n        if($header.data('sticky')) {\r\n            initBindings();\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Get DOM elements for the module\r\n     *\r\n     * @private\r\n     * @returns {void}\r\n     */\r\n    function initDOMElements() {\r\n        $header = SETI.Performance.getCachedDOM().$header;\r\n        $window = SETI.Performance.getCachedDOM().$window;\r\n        initialHeight = $header.height();\r\n    }\r\n\r\n\r\n    /**\r\n     * Init event bindings for the module\r\n     * Everything is bound to the BODY and events are propagated, because selects can be created/modified dynamically\r\n     *\r\n     * @private\r\n     * @returns {void}\r\n     */\r\n    function initBindings() {\r\n        $window.on({\r\n            scroll: function() {\r\n                if($window.scrollTop() > initialHeight) {\r\n                    $header.addClass(cssClass);\r\n                } else {\r\n                    $header.removeClass(cssClass);\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n    return {\r\n        init: init\r\n    };\r\n\r\n}());"]}
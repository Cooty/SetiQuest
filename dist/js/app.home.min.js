SETI.Plugins=function(){function a(){c(),b()}function b(){d.length&&d.each(function(){var a=$(this);a.data('side')?a.tooltipster({theme:f,side:a.data('side')}):a.tooltipster({theme:f,side:a.data('side')})})}function c(){d=$('[data-tooltip]'),e=$('[data-nanoscroller]')}var d,e,f='tooltipster-borderless';return{init:a}}(),SETI.Aladin=function(){function a(){SETI.mobile||(j(),n&&(h(),i(),b(),l(),SETI.Plugins.init()))}function b(){var a=$.ajax({url:r.data('service-url')});a.done(function(a){}),a.fail(d),a.always(c)}function c(){}function d(){}function e(a){var b=m.getFov();b=b[0]-I,b>J?(m.setFov(b),t.attr('disabled')&&t.attr('disabled',!1)):a.attr('disabled',!0)}function f(a){var b=m.getFov();b=b[0]+I,b<K?(m.setFov(b),o.attr('disabled')&&o.attr('disabled',!1)):a.attr('disabled',!0)}function g(){F?(C.hide(),F=!1):(F=!0,C.show())}function h(){m=A.aladin(n,{showReticle:!1,fov:H,showLayersControl:!1,showGotoControl:!1,showZoomControl:!1,showFrame:!1,showCooGrid:!1,showShareControl:!1,log:!1,fullScreen:!1,showFullscreenControl:!1,target:'0,0'})}function i(){Modernizr.fullscreen?w.on({click:k}):w.hide(),y.on({click:function(){y.toggleClass(D)}},'[data-notes-header]'),o.on({click:function(a){e($(a.currentTarget))}}),t.on({click:function(a){f($(a.currentTarget))}}),u.on({click:g}),z.on({click:function(a){a.preventDefault(),q.hasClass(E)?(q.removeClass(E),$('.header__menu').find('a[data-progress]').removeClass('active'),$('.header__menu').find('a[data-observation]').removeClass('active')):(q.addClass(E),$('.header__menu').find('a.active').removeClass('active'),$('.header__menu').find('a[data-progress]').addClass('active'))}})}function j(){n=document.getElementById('js-aladin-container'),x=SETI.Performance.getCachedDOM().$body,B=x[0],r=$('#js-aladin'),s=r[0],o=r.find('[data-zoom-in]'),t=r.find('[data-zoom-out]'),u=r.find('[data-constellations]'),v=r.find('[data-set-center]'),w=r.find('[data-fullscreen]'),y=$('[data-notes]'),q=SETI.Performance.getCachedDOM().$html,z=$('[data-progress]')}function k(){G?document.exitFullscreen?(document.exitFullscreen(),G=!1):document.webkitExitFullscreen?(document.webkitExitFullscreen(),G=!1):document.mozCancelFullScreen?(document.mozCancelFullScreen(),G=!1):document.msExitFullscreen&&(document.msExitFullscreen(),G=!1):B.requestFullscreen?(B.requestFullscreen(),G=!0):B.webkitRequestFullscreen?(B.webkitRequestFullscreen(),G=!0):B.mozRequestFullScreen?(B.mozRequestFullScreen(),G=!0):B.msRequestFullscreen&&(B.msRequestFullscreen(),G=!0),$(this).toggleClass('reverse-arrows'),x.toggleClass('aladin-fullscreen'),this.blur()}function l(){$.ajax({url:'data/constellations.jsonp',dataType:'jsonp',jsonpCallback:'constellations',success:function(a){C=A.graphicOverlay({color:'#444444',lineWidth:1,name:'constellations'}),m.addOverlay(C);for(var b=[],c=0;c<a.constellations.length;c++)for(var d=(a.constellations[c][0],1);d<a.constellations[c].length;d+=3){var e=parseFloat(a.constellations[c][d]),f=parseFloat(a.constellations[c][d+1]),g=parseFloat(a.constellations[c][d+2]);e<25?(p=[],p.push(15*e),p.push(f),b.push(p)):(C.add(A.polyline(b)),b=[]),lastRA=e,lastDec=f,lastMag=g}},error:self.handleError})}var m,n,o,q,r,s,t,u,v,w,x,y,z,B,C,D='notes--opened',E='show-progress',F=!0,G=!1,H=1,I=.2,J=.3,K=12;return{init:a}}(),SETI.BackgroundVideo=function(){function a(){k=window.getCookie('clickedHero'),SETI.mobile||'1'===k||(b(),c())}function b(){e=SETI.Performance.getCachedDOM().$body,f=SETI.Performance.getCachedDOM().$page,g=$('#js-home-hero'),h=e.data('video-source'),j=Handlebars.compile(document.getElementById('bg-video').innerHTML)}function c(){!SETI.mobile&&Modernizr.video&&Modernizr.videoloop&&(f.after(j({videoSource:h})),i=$('[data-bg-video]')[0],i.addEventListener('playing',function(){g.addClass(l)}))}function d(){if(i)return i}var e,f,g,h,i,j,k,l='home-hero--video-playing';return{init:a,getBgVideo:d}}(),SETI.Hero=function(){function a(){b(),c.length&&d.on({click:function(){Modernizr.cssanimations?(e.addClass('hide-hero'),d.on({animationend:function(){c.fadeOut(180,function(){g.addClass('aladin--show')})}})):c.fadeOut(180,function(){g.addClass('aladin--show')}),window.setCookie('clickedHero',1),f&&f.pause()}})}function b(){c=$('#js-home-hero'),c.length&&(d=$('#js-hide-home-hero'),e=SETI.Performance.getCachedDOM().$html,f=SETI.BackgroundVideo.getBgVideo(),g=$('#js-aladin'))}var c,d,e,f,g;return{init:a}}(),SETI.Home=function(){function a(){SETI.BackgroundVideo.init(),SETI.Hero.init(),SETI.Aladin.init()}var b;return{getInstance:function(){return b||(b=a()),b}}}();
//# sourceMappingURL=app.home.min.js.map